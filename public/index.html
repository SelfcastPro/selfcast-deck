<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Selfcast Pro – Presentations</title>
<style>
  :root{--bg:#0b0b0b;--fg:#f5f5f5;--muted:#b7b7b7;--accent:#e51c23;--card:#151515;--line:#222}
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--fg);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  .wrap{min-height:100%;display:grid;place-items:center;padding:28px}
  .card{width:min(860px,92vw);background:#101010;border:1px solid #242424;border-radius:18px;padding:22px;box-shadow:0 30px 60px rgba(0,0,0,.35)}
  h1{margin:0 0 6px 0;font-size:28px}
  p{color:var(--muted);margin:0 0 14px 0}
  label{font-size:12px;color:var(--muted)}
  input,textarea{width:100%;background:#141414;border:1px solid #242424;color:var(--fg);border-radius:10px;padding:10px 12px}
  textarea{min-height:120px;resize:vertical}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
  .btn{background:#1f1f1f;border:1px solid #2a2a2a;color:#fff;padding:10px 12px;border-radius:10px;cursor:pointer}
  .btn.accent{background:var(--accent);border-color:#bf141b}
  .chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
  .chip{border:1px solid #2a2a2a;border-radius:999px;padding:4px 10px;font-size:12px;color:var(--muted)}
  .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .hint{font-size:12px;color:var(--muted)}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <div class="row" style="justify-content:space-between">
      <h1>Selfcast Presentations</h1>
      <a class="chip" href="/deck/" target="_blank">Open /deck ↗</a>
    </div>
    <p>Indsæt én eller flere <b>role-URL’er</b> eller <b>roleId</b> (én pr. linje), vælg statusser, og åbn præsentations-generatoren.</p>

    <div class="grid">
      <div>
        <label>Role URLs / roleId (én pr. linje)</label>
        <textarea id="inpRoles" placeholder="https://producer.selfcast.com/production/.../role/...\nhttps://producer.selfcast.com/production/.../role/..."></textarea>
        <div class="hint">Du kan indsætte hele linket eller kun roleId.</div>
      </div>
      <div>
        <label>Deck Title (valgfri)</label>
        <input id="inpTitle" placeholder="Casting Presentation"/>
        <label style="display:block;margin-top:12px">Statuses</label>
        <div class="chips">
          <label class="chip"><input type="checkbox" value="OPTION" class="st" style="margin-right:6px">Option</label>
          <label class="chip"><input type="checkbox" value="IN_REVIEW" class="st" checked style="margin-right:6px">In review</label>
          <label class="chip"><input type="checkbox" value="SHORTLISTED" class="st" style="margin-right:6px">Shortlisted</label>
          <label class="chip"><input type="checkbox" value="IN_DIALOG" class="st" style="margin-right:6px">In dialog</label>
          <label class="chip"><input type="checkbox" value="BOOKED" class="st" style="margin-right:6px">Booked</label>
        </div>
        <div style="margin-top:12px" class="row">
          <label class="hint">Kræv min. antal billeder</label>
          <input id="minImages" type="number" value="1" min="0" max="9" style="width:80px">
        </div>
      </div>
    </div>

    <div style="display:flex;gap:10px;margin-top:16px">
      <button class="btn accent" id="btnOpen">Open deck</button>
      <button class="btn" id="btnDemo">Load demo values</button>
    </div>
    <p class="hint" style="margin-top:8px">Tip: Du kan dele /deck-linket direkte med kunder, eller eksportere som PDF inde på /deck.</p>
  </div>
</div>

<script>
  function parseRoleIds(text){
    return text.split(/\\n|,|\\s+/).map(s=>s.trim()).filter(Boolean).map(s=>{
      const m=s.match(/role\\/([a-f0-9\\-]{36})/i); return m?m[1]:s;
    });
  }
  function buildUrl(){
    const roles = parseRoleIds(document.getElementById('inpRoles').value);
    const title = encodeURIComponent(document.getElementById('inpTitle').value||'');
    const statuses = [...document.querySelectorAll('.st:checked')].map(x=>x.value).join(',');
    const minImages = document.getElementById('minImages').value||'1';
    const params = new URLSearchParams();
    if(roles.length) params.set('roles', roles.join(','));
    if(title) params.set('title', title);
    if(statuses) params.set('statuses', statuses);
    if(minImages) params.set('min', minImages);
    return '/deck/?'+params.toString();
  }
  document.getElementById('btnOpen').addEventListener('click',()=>{
    const url = buildUrl();
    window.location.href = url;
  });
  document.getElementById('btnDemo').addEventListener('click',()=>{
    document.getElementById('inpRoles').value =
`https://producer.selfcast.com/production/c9210379-b1ac-4ac9-8f9a-41d304fa6114/role/e8714815-ebe4-48b7-b6b0-4df9e6afb694`;
    document.getElementById('inpTitle').value = 'Casting Presentation';
  });
</script>
</body>
</html>

