<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Selfcast – Casting Jobs Radar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
   <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#0b0b0b;color:#f5f5f5;display:flex;height:100vh;overflow:hidden;font-size:13px}
    a{color:#4da3ff;text-decoration:none}
    .wrap{flex:1;display:flex;flex-direction:column;padding:14px;max-width:1200px}
    h1{margin:0 0 10px;font-size:20px;font-weight:800}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:0 0 10px;font-size:12px}
    input,select{padding:5px 8px;border:1px solid #222;background:#141414;color:#f5f5f5;border-radius:6px;font-size:12px}
    table{width:100%;border-collapse:collapse;background:#141414;border-radius:6px;overflow:hidden;table-layout:fixed;font-size:12px}
    th,td{padding:5px 6px;border-bottom:1px solid #222;vertical-align:top;text-align:left}
    tr:hover{background:#161616;cursor:pointer}
    th:nth-child(1),td:nth-child(1){width:24px;text-align:center}
    th:nth-child(2),td:nth-child(2){width:32%}
    th:nth-child(3),td:nth-child(3){width:12%}
    th:nth-child(4),td:nth-child(4){width:14%}
       th:nth-child(5),td:nth-child(5){width:42%}
    th:nth-child(6),td:nth-child(6){width:12%}
    .snippet{white-space:pre-wrap;max-height:6.5em;overflow:hidden}
    .small{font-size:11px;color:#b3b3b3}
    .fallback{padding:2rem;text-align:center;color:#aaa;font-size:12px}
    .layout{display:flex;flex:1;overflow:hidden;gap:10px}
    .left{flex:1;overflow:auto}
    .right{width:600px;overflow:auto;background:#111;padding:12px;border-left:1px solid #222;font-size:12px;line-height:1.4}
    .right h2{margin-top:0;font-size:14px}
    button{background:#4da3ff;color:#fff;border:none;padding:5px 8px;margin:3px 3px 6px 0;border-radius:6px;cursor:pointer;font-size:12px}
    button:hover{background:#3486d8}
    tr.is-read td{color:#9ca3af}
    tr.is-read td .job-title{color:#d1d5db}
    tr.is-active{background:#1f1f1f !important}
    tr.is-active:hover{background:#1f1f1f !important}
    .job-title{font-weight:700;font-size:13px;margin-bottom:2px;color:#fff}
    .detail-actions{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
    .detail-actions span{display:flex;align-items:center}
    .detail-actions a{color:#4da3ff}
    .detail-text{margin-top:12px;white-space:pre-wrap;line-height:1.5}
    .detail-meta{margin-top:10px;line-height:1.4}
    .detail-note{margin-top:8px;color:#facc15;font-size:12px}
    .detail-raw{margin-top:12px}
    .detail-raw summary{cursor:pointer}
    .detail-raw pre{background:#0f0f0f;color:#e5e7eb;padding:10px;border-radius:6px;max-height:220px;overflow:auto}
    .detail-contact{margin-top:10px;line-height:1.4}
    .toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#111;border:1px solid #2a2a2a;padding:10px 14px;border-radius:10px;color:#f5f5f5;display:none;box-shadow:0 12px 30px rgba(0,0,0,0.45);z-index:2000;pointer-events:none;min-width:200px;text-align:center}
    .toast.show{display:block}
    .toast.toast--success{border-color:#16a34a}
    .toast.toast--error{border-color:#dc2626}
    .toast.toast--info{border-color:#4da3ff}
  </style>
</head>
<body>
<div class="wrap">
  <h1>Selfcast – Casting Jobs Radar</h1>
  <div id="meta" class="small">Loading…</div>
  <div class="controls">
    <input id="q" type="search" placeholder="Search…"/>
    <select id="source"><option value="">All sources</option></select>
    <select id="age">
      <option value="">Any time</option>
      <option value="1">Last 24h</option>
      <option value="3">Last 3 days</option>
      <option value="7" selected>Last 7 days</option>
      <option value="14">Last 14 days</option>
      <option value="30">Last 30 days</option>
    </select>
    <select id="sort">
      <option value="new">Newest first</option>
      <option value="old">Oldest first</option>
    </select>
    <label class="small"><input type="checkbox" id="onlyUnread"> Only unread</label>
  </div>
  <div class="layout">
    <div class="left">
      <table id="tbl" style="display:none">
        <thead>
          <tr>
            <th>✓</th>
            <th>Title</th>
            <th>Country</th>
            <th>Source</th>
            <th>Snippet</th>
            <th>Posted</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="fallback" class="fallback" style="display:none"></div>
    </div>
    <div class="right" id="detail"><em>Select a post…</em></div>
  </div>
</div>

<div class="toast" id="toast" role="status" aria-live="polite"></div>

<script>
// Her peger vi dashboardet på crawlerens output
const PATH = "jobs/live/jobs.json";
</script>
<script src="app.js"></script>
</body>
</html>
